<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<div class="d-flex flex-column flex-shrink-0 p-3 text-bg-dark custom-toolbar">
  <a routerLink="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
    <svg class="bi pe-none me-2" width="40" height="32"></svg>
    <span class="fs-4">ARCHIVIO SCOLASTICO</span>
  </a>
  <hr>
  <ul class="nav nav-pills flex-column mb-auto">
    <li *ngIf="isLoggedIn() && isPreside()">
      <a routerLink="/studenti" class="nav-link text-white">
        Studenti
      </a>
    </li>
    <li *ngIf="isLoggedIn() && isPreside()">
      <a routerLink="/classi" class="nav-link text-white">
        Classi
      </a>
    </li>
    <li>
      <div *ngIf="isLoggedIn() && isPreside()">
        <app-signup (buttonClick)="openModalee()"></app-signup>
      </div>
    </li>
    <li>
      <div *ngIf="isLoggedIn() && isProfessore()">
        <p class="nav-link text-white" (click)="visualizza()">
          classe di {{loggedInUser}}
        </p>
      </div>
    </li>
  </ul>
  <hr>
  <div *ngIf="!isLoggedIn()">
    <app-login (buttonClick)="openModale()"></app-login>
  </div>
  <div *ngIf="isLoggedIn()" class="logged-in-container">
    {{ loggedInUser }}
    <button type="button" class="btn btn-danger" (click)="logout()" *ngIf="isLoggedIn()">Logout</button>
  </div>

</div>



<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title" id="loginModalLabel">Login</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeModale()"></button>
      </div>
      <div class="modal-body">
        <div *ngIf="!isLoggedIn()">
          <div class="mb-3">
            <label for="usernameInput" class="form-label">Username:</label>
            <input type="username" class="form-control" id="usernameInput" [(ngModel)]="username" placeholder="Inserisci il tuo username">
          </div>
          <div class="mb-3">
            <label for="passwordInput" class="form-label">Password:</label>
            <input type="password" class="form-control" id="passwordInput" [(ngModel)]="password" placeholder="Inserisci la tua password">
          </div>

        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="login()">Accedi</button>
      </div>
    </div>
  </div>
</div>




<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title" id="signupModalLabel">Crea nuovo professore</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="closeModalee()"></button>
      </div>
      <div class="modal-body">
        <div>
          <div class="mb-3">
            <label for="usernameInput" class="form-label">Username:</label>
            <input type="text" class="form-control" id="usernameInput" [(ngModel)]="signupUsername" placeholder="username professore">
          </div>
          <div class="mb-3">
            <label for="passwordInput" class="form-label">Password:</label>
            <input type="password" class="form-control" id="passwordInput" [(ngModel)]="signupPassword" placeholder="password professore">
          </div>
          <div class="mb-3">
            <label for="emailInput" class="form-label">Email:</label>
            <input type="email" class="form-control" id="emailInput" [(ngModel)]="signupEmail" placeholder="email professore">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="signup()">Sign Up</button>
      </div>
    </div>
  </div>
</div>


